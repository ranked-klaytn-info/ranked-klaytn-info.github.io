_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[57],{"+tV+":function(e,n,a){"use strict";a.r(n);var l=function(){var e={defaultValue:null,kind:"LocalArgument",name:"assetContract"},n={defaultValue:null,kind:"LocalArgument",name:"chain"},a={defaultValue:null,kind:"LocalArgument",name:"collection"},l={defaultValue:null,kind:"LocalArgument",name:"description"},t={defaultValue:null,kind:"LocalArgument",name:"externalLink"},i={defaultValue:null,kind:"LocalArgument",name:"identity"},s={defaultValue:null,kind:"LocalArgument",name:"imageFile"},o={defaultValue:null,kind:"LocalArgument",name:"isNsfw"},r={defaultValue:null,kind:"LocalArgument",name:"levels"},c={defaultValue:null,kind:"LocalArgument",name:"maxSupply"},u={defaultValue:null,kind:"LocalArgument",name:"mediaFile"},d={defaultValue:null,kind:"LocalArgument",name:"name"},m={defaultValue:null,kind:"LocalArgument",name:"properties"},g={defaultValue:null,kind:"LocalArgument",name:"stats"},p={defaultValue:null,kind:"LocalArgument",name:"tokenId"},k={defaultValue:null,kind:"LocalArgument",name:"unlockableContent"},y=[{kind:"Variable",name:"assetContract",variableName:"assetContract"},{kind:"Variable",name:"chain",variableName:"chain"},{kind:"Variable",name:"collection",variableName:"collection"},{kind:"Variable",name:"description",variableName:"description"},{kind:"Variable",name:"externalLink",variableName:"externalLink"},{kind:"Variable",name:"identity",variableName:"identity"},{kind:"Variable",name:"imageFile",variableName:"imageFile"},{kind:"Variable",name:"isNsfw",variableName:"isNsfw"},{kind:"Variable",name:"levels",variableName:"levels"},{kind:"Variable",name:"maxSupply",variableName:"maxSupply"},{kind:"Variable",name:"mediaFile",variableName:"mediaFile"},{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"properties",variableName:"properties"},{kind:"Variable",name:"stats",variableName:"stats"},{kind:"Variable",name:"tokenId",variableName:"tokenId"},{kind:"Variable",name:"unlockableContent",variableName:"unlockableContent"}],b={alias:null,args:null,kind:"ScalarField",name:"tokenId",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"chain",storageKey:null},v={alias:null,args:null,concreteType:"AssetContractType",kind:"LinkedField",name:"assetContract",plural:!1,selections:[f,C],storageKey:null},h=[v,b],x={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[e,n,a,l,t,i,s,o,r,c,u,d,m,g,p,k],kind:"Fragment",metadata:null,name:"AssetCreatePageMutation",selections:[{alias:null,args:null,concreteType:"AssetMutationType",kind:"LinkedField",name:"assets",plural:!1,selections:[{alias:null,args:y,concreteType:"AssetType",kind:"LinkedField",name:"create",plural:!1,selections:[b,v,{kind:"InlineDataFragmentSpread",name:"asset_url",selections:h},{kind:"InlineDataFragmentSpread",name:"itemEvents_data",selections:h}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,l,t,i,s,c,u,d,p,n,k,o,m,r,g],kind:"Operation",name:"AssetCreatePageMutation",selections:[{alias:null,args:null,concreteType:"AssetMutationType",kind:"LinkedField",name:"assets",plural:!1,selections:[{alias:null,args:y,concreteType:"AssetType",kind:"LinkedField",name:"create",plural:!1,selections:[b,{alias:null,args:null,concreteType:"AssetContractType",kind:"LinkedField",name:"assetContract",plural:!1,selections:[f,C,x],storageKey:null},x],storageKey:null}],storageKey:null}]},params:{cacheID:"7826a5a89e57c00d81e05122762dc619",id:null,metadata:{},name:"AssetCreatePageMutation",operationKind:"mutation",text:"mutation AssetCreatePageMutation(\n  $assetContract: AssetContractRelayID\n  $collection: CollectionSlug\n  $description: String\n  $externalLink: URL\n  $identity: IdentityInputType!\n  $imageFile: Upload\n  $maxSupply: String\n  $mediaFile: Upload\n  $name: String!\n  $tokenId: String\n  $chain: ChainScalar\n  $unlockableContent: String\n  $isNsfw: Boolean!\n  $properties: [StringTraitConfig!]\n  $levels: [NumericTraitConfig!]\n  $stats: [NumericTraitConfig!]\n) {\n  assets {\n    create(assetContract: $assetContract, collection: $collection, description: $description, externalLink: $externalLink, imageFile: $imageFile, maxSupply: $maxSupply, mediaFile: $mediaFile, name: $name, tokenId: $tokenId, chain: $chain, unlockableContent: $unlockableContent, isNsfw: $isNsfw, properties: $properties, levels: $levels, stats: $stats, identity: $identity) {\n      tokenId\n      assetContract {\n        address\n        chain\n        id\n      }\n      ...asset_url\n      ...itemEvents_data\n      id\n    }\n  }\n}\n\nfragment asset_url on AssetType {\n  assetContract {\n    address\n    chain\n    id\n  }\n  tokenId\n}\n\nfragment itemEvents_data on AssetType {\n  assetContract {\n    address\n    chain\n    id\n  }\n  tokenId\n}\n"}}}();l.hash="b4b372c407caf00ef25e6b59d4919b11",n.default=l},30:function(e,n,a){a("xhzY"),e.exports=a("4suN")},"4suN":function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/collectionManagerAssetCreate",function(){return a("l642")}])},l642:function(e,n,a){"use strict";a.r(n);var l,t,i=a("qd51"),s=a("/dBk"),o=a.n(s),r=a("mXGw"),c=a("O+LC"),u=(a("wcNg"),a("UutA")),d=a("kIHd"),m=a("XaKp"),g=a("Q5Gx"),p=a("jOHK"),k=a("+YaZ"),y=a("g8rX"),b=a("ZwbU"),f=a("SMcu"),C=a("h64z"),v=a("DWpj"),h=a("kCmG"),x=a("HSVd"),j=a("heV+"),A=a("wwms"),F=a("oYCi"),L=function(e){var n,t,s,u,g,k,j=e.chain,L=e.data,T=Object(r.useState)("form"),O=T[0],w=T[1],N=Object(C.a)(),S=N.wallet,$=N.login,K=N.mutate,M=function(){var e=Object(i.a)(o.a.mark((function e(n){var t,i,s,r,u,m,g,p,k,y,b,f,C,j,F,V,T,O,N,M,I,E,D,P,U;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=n.chain,m=n.collectionOption,g=n.description,p=n.externalLink,k=n.imageFile,y=n.maxSupply,b=n.mediaFile,f=n.name,C=n.unlockableContent,j=n.isNsfw,F=n.properties,V=n.levels,T=n.stats,O=S.getActiveAccountKey(),N=null!==(t=null===m||void 0===m?void 0:m.value)&&void 0!==t?t:null===L||void 0===L||null===(i=L.assetCollection)||void 0===i?void 0:i.slug,M=null!==(s=null===m||void 0===m?void 0:m.defaultMintableAssetContract)&&void 0!==s?s:null===L||void 0===L||null===(r=L.assetCollection)||void 0===r?void 0:r.defaultMintableAssetContract,w("sign"),e.next=7,$();case 7:if(e.prev=7,D=void 0,null===M||void 0===M||null===(I=M.openseaVersion)||void 0===I||!I.startsWith("1.")){e.next=15;break}if(M.address){e.next=12;break}throw new Error("Missing collection");case 12:return e.next=14,Object(A.b)(d.a.mint({address:M.address,onPrompt:function(){return w("minting")}}));case 14:D=e.sent;case 15:return w("wait"),e.next=18,K(void 0!==l?l:l=a("+tV+"),{assetContract:(null===_||void 0===_||null===(E=_.defaultMintableAssetContract)||void 0===E?void 0:E.relayId)||null,collection:N,description:g||null,externalLink:p||null,imageFile:k||null,maxSupply:y,mediaFile:b||null,name:f,tokenId:D,chain:u,unlockableContent:C,isNsfw:j,identity:{address:null===O||void 0===O?void 0:O.address},properties:Object.values(F),levels:Object.values(V),stats:Object.values(T)});case 18:P=e.sent,U=P.assets.create,w("done"),Object(v.m)(U,{collectionSlug:N,unlockableContent:!!C,isNsfw:j}),x.a.push("".concat(Object(h.e)(U),"?created=true")),e.next=31;break;case 25:if(e.prev=25,e.t0=e.catch(7),w("form"),!(e.t0 instanceof c.RRNLRequestError)){e.next=30;break}throw e.t0;case 30:throw new Error("Error adding your item: ".concat(e.t0.message));case 31:case"end":return e.stop()}}),e,null,[[7,25]])})));return function(n){return e.apply(this,arguments)}}(),I=function(){return Object(F.jsx)("div",{className:"collectionManagerAssetCreate--loader",children:Object(F.jsx)(y.a,{size:"large"})})},_=null===L||void 0===L?void 0:L.assetCollection,E=null!==(n=null===L||void 0===L?void 0:L.assetCollection)&&void 0!==n?n:null===L||void 0===L||null===(t=L.account)||void 0===t?void 0:t.defaultCollection,D=null===_||void 0===_||null===(s=_.defaultMintableAssetContract)||void 0===s||null===(u=s.openseaVersion)||void 0===u?void 0:u.startsWith("1."),P=[{href:"/collections",label:"My collections"},{href:"/collection/".concat(null===_||void 0===_?void 0:_.slug,"/assets/edit"),label:null!==(g=null===_||void 0===_?void 0:_.name)&&void 0!==g?g:"Collection"}];return Object(F.jsxs)(V,{breadcrumbLinks:_?P:void 0,title:"Create New Item",children:[Object(F.jsx)(f.a,{title:Object(f.b)("Create NFTs")}),L?Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(p.a,{asset:null,defaultChain:null!==j&&void 0!==j?j:null===E||void 0===E||null===(k=E.defaultChain)||void 0===k?void 0:k.identifier,disableMaxSupply:D,initialCollectionOption:E?{value:E.slug,label:E.name,avatar:E.imageUrl?{src:E.imageUrl}:void 0,defaultMintableAssetContract:E.defaultMintableAssetContract}:void 0,onSubmit:M})}):Object(F.jsx)(m.a,{}),Object(F.jsx)(b.a,{isOpen:"sign"===O||"minting"===O||"wait"===O,children:"wait"===O?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(b.a.Header,{children:Object(F.jsx)(b.a.Title,{children:"Please wait..."})}),Object(F.jsx)(b.a.Body,{display:"flex",justifyContent:"center",children:I()})]}):"sign"===O?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(b.a.Header,{children:Object(F.jsx)(b.a.Title,{children:"Waiting for your wallet signature..."})}),Object(F.jsx)(b.a.Body,{display:"flex",justifyContent:"center",children:I()})]}):"minting"===O?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(b.a.Header,{children:Object(F.jsx)(b.a.Title,{children:"Minting your token..."})}),Object(F.jsx)(b.a.Body,{display:"flex",justifyContent:"center",children:Object(F.jsx)(m.a,{blockchain:!0})})]}):null})]})};L.query=void 0!==t?t:t=a("zFvi"),L.getInitialProps=j.a.nextParser({chain:j.a.Optional(j.a.ChainIdentifier),slug:j.a.Optional(j.a.string)},(function(e){var n=e.chain,a=e.slug;return{chain:n,variables:{collection:null!==a&&void 0!==a?a:void 0,isExistingCollection:!!a,useDefaultCollection:!a}}}));var V=Object(u.d)(k.a).withConfig({displayName:"AssetCreatePagereact__CollectionManagerContainer",componentId:"sc-1fmugvm-0"})([".collectionManagerAssetCreate--loader{align-items:center;display:flex;height:100%;justify-content:center;padding:16px;width:100%;}",""],Object(g.e)({tabletS:Object(u.c)(["width:100%;"])}));n.default=L},zFvi:function(e,n,a){"use strict";a.r(n);var l=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"collection"},{defaultValue:null,kind:"LocalArgument",name:"isExistingCollection"},{defaultValue:null,kind:"LocalArgument",name:"useDefaultCollection"}],n={alias:null,args:null,kind:"ScalarField",name:"identifier",storageKey:null},a={alias:null,args:null,concreteType:"ChainType",kind:"LinkedField",name:"defaultChain",plural:!1,selections:[n],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"relayId",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"openseaVersion",storageKey:null},c=[{kind:"Variable",name:"collection",variableName:"collection"}],u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,concreteType:"ChainType",kind:"LinkedField",name:"defaultChain",plural:!1,selections:[n,u],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"AssetCreatePageQuery",selections:[{condition:"useDefaultCollection",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"AccountType",kind:"LinkedField",name:"account",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionType",kind:"LinkedField",name:"defaultCollection",plural:!1,selections:[a,l,t,i,{alias:null,args:null,concreteType:"AssetContractType",kind:"LinkedField",name:"defaultMintableAssetContract",plural:!1,selections:[s,o,r],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"isExistingCollection",kind:"Condition",passingValue:!0,selections:[{alias:"assetCollection",args:c,concreteType:"CollectionType",kind:"LinkedField",name:"collection",plural:!1,selections:[a,{alias:null,args:null,concreteType:"AssetContractType",kind:"LinkedField",name:"defaultMintableAssetContract",plural:!1,selections:[o,s,r],storageKey:null},l,i,t],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"AssetCreatePageQuery",selections:[{condition:"useDefaultCollection",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"AccountType",kind:"LinkedField",name:"account",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionType",kind:"LinkedField",name:"defaultCollection",plural:!1,selections:[d,l,t,i,{alias:null,args:null,concreteType:"AssetContractType",kind:"LinkedField",name:"defaultMintableAssetContract",plural:!1,selections:[s,o,r,u],storageKey:null},u],storageKey:null},u],storageKey:null}]},{condition:"isExistingCollection",kind:"Condition",passingValue:!0,selections:[{alias:"assetCollection",args:c,concreteType:"CollectionType",kind:"LinkedField",name:"collection",plural:!1,selections:[d,{alias:null,args:null,concreteType:"AssetContractType",kind:"LinkedField",name:"defaultMintableAssetContract",plural:!1,selections:[o,s,r,u],storageKey:null},l,i,t,u],storageKey:null}]}]},params:{cacheID:"4886298b757ea0e7076fcc0fe6c40312",id:null,metadata:{},name:"AssetCreatePageQuery",operationKind:"query",text:"query AssetCreatePageQuery(\n  $collection: CollectionSlug\n  $isExistingCollection: Boolean!\n  $useDefaultCollection: Boolean!\n) {\n  account @include(if: $useDefaultCollection) {\n    defaultCollection {\n      defaultChain {\n        identifier\n        id\n      }\n      name\n      imageUrl\n      slug\n      defaultMintableAssetContract {\n        address\n        relayId\n        openseaVersion\n        id\n      }\n      id\n    }\n    id\n  }\n  assetCollection: collection(collection: $collection) @include(if: $isExistingCollection) {\n    defaultChain {\n      identifier\n      id\n    }\n    defaultMintableAssetContract {\n      relayId\n      address\n      openseaVersion\n      id\n    }\n    name\n    slug\n    imageUrl\n    id\n  }\n}\n"}}}();l.hash="ac92f26c523b5c9270e08b211b184c7c",n.default=l}},[[30,2,1,6,4,3,7,9,0,5,8,10,12,11,13,14,16,18,29,33]]]);
//# sourceMappingURL=collectionManagerAssetCreate-8b3a48dc65012badd2ea.js.map